define(["./module","services/geolocation"],function(a,b){"use strict";a.controller("ListCtrl",["$scope","$q","trail",function(a,c,d){if(a.center=[7.45766,47.2557],c){var e=b.getPosition(a,c);e.then(function(b){a.center=[b.longitude,b.latitude],a.position=b},function(b){a.position=b})}a.$on("selecttrail",function(b,c){return a.selectedTrail=c,!0}),a.$on("newBounds",function(b,c){if(c){var e=c.getSouthWest(),f=c.getNorthEast(),g={sw_lon:e.lng,sw_lat:e.lat,ne_lon:f.lng,ne_lat:f.lat};d&&d.query(g,function(b){a.trails=b})}})}])});